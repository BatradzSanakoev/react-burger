(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{104:function(e,t,n){e.exports={element:"Count_element__3V7ye"}},106:function(e,t,n){e.exports={overlay:"ModalOverlay_overlay__3Mq54"}},107:function(e,t,n){e.exports={list:"FeedDetails_list__1R-ge"}},11:function(e,t,n){e.exports={main:"Profile_main__31kfc",content:"Profile_content__1G7E8",navColumn:"Profile_navColumn__DgcbP",navBar:"Profile_navBar__3PE4y",navLink:"Profile_navLink__3Wlqe",activeNavLink:"Profile_activeNavLink__3uu7d",navText:"Profile_navText__3Qb01",profileColumn:"Profile_profileColumn__2tx_Q",profileInfo:"Profile_profileInfo__19mjA",ordersList:"Profile_ordersList__3fZrw"}},120:function(e,t,n){},14:function(e,t,n){e.exports={header:"AppHeader_header__16zt-",headerContent:"AppHeader_headerContent__3bmWV",navGroup:"AppHeader_navGroup__xacWx",navButton:"AppHeader_navButton__1FmLD",activeNavButton:"AppHeader_activeNavButton__1B_Vc",navText:"AppHeader_navText__21Ruo"}},19:function(e,t,n){e.exports={main:"Feed_main__2v_45",content:"Feed_content__HgczD",feed:"Feed_feed__WR-Mi",ordersList:"Feed_ordersList__3drC9",orders:"Feed_orders__2FDbA",ordersNumbers:"Feed_ordersNumbers__3YyiM",ordersReady:"Feed_ordersReady__3XYe5",ordersInWork:"Feed_ordersInWork__2VIc3 Feed_ordersReady__3XYe5",colorfulDigits:"Feed_colorfulDigits__2euHF",largeDigits:"Feed_largeDigits__2Cl6p"}},200:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(34),s=n.n(a),i=n(43),o=n(7),l=(n(120),n(5)),u=i.c,d=function(){return Object(i.b)()},j=n(109),m=n(205),p=n(9),b=n(4),_=n(14),O=n.n(_),x=n(0),h=function(){var e=Object(p.h)().pathname;return Object(x.jsx)("header",{className:"".concat(O.a.header," pt-4 pb-4"),children:Object(x.jsxs)("div",{className:O.a.headerContent,children:[Object(x.jsxs)("div",{className:"".concat(O.a.navGroup),children:[Object(x.jsxs)(o.c,{exact:!0,to:"/",className:"".concat(O.a.navButton," pt-4 pb-4 pl-5 pr-5 mr-2"),activeClassName:O.a.activeNavButton,children:[Object(x.jsx)(b.BurgerIcon,{type:"".concat("/"===e?"primary":"secondary")}),Object(x.jsx)("p",{className:"text text_type_main-medium ml-2 ".concat(O.a.navText),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(x.jsxs)(o.c,{exact:!0,to:"/feed",className:"".concat(O.a.navButton," pt-4 pb-4 pl-5 pr-5"),activeClassName:O.a.activeNavButton,children:[Object(x.jsx)(b.ListIcon,{type:"".concat("/feed"===e?"primary":"secondary")}),Object(x.jsx)("p",{className:"text text_type_main-medium ml-2 ".concat(O.a.navText),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(x.jsx)(o.b,{to:"/",children:Object(x.jsx)(b.Logo,{})}),Object(x.jsx)("div",{className:"".concat(O.a.navGroup),style:{justifyContent:"flex-end"},children:Object(x.jsxs)(o.c,{to:"/profile",className:"".concat(O.a.navButton," pt-4 pb-4 pl-5 pr-5"),activeClassName:O.a.activeNavButton,children:[Object(x.jsx)(b.ProfileIcon,{type:"".concat(e.includes("/profile")?"primary":"secondary")}),Object(x.jsx)("p",{className:"text text_type_main-medium ml-2 ".concat(O.a.navText),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},f=n(29),g=n.n(f),v=n(206),y=n(35),N=n.n(y),C=n(104),E=n.n(C),I=function(e){var t=e.count;return Object(x.jsx)(x.Fragment,{children:t>0&&Object(x.jsx)("div",{className:E.a.element,children:Object(x.jsx)("p",{className:"text text_type_main-small",children:t})})})},T=function(e){var t=Object(p.h)(),n=Object(p.g)(),c=u((function(e){return e.burgerConstructor})),a=c.constructorBuns,s=c.constructorIngredients,i=Object(r.useMemo)((function(){if(a)return a?a._id===e._id&&2:void 0}),[a]),o=Object(r.useMemo)((function(){var t=0;return s.forEach((function(n){n._id===e._id&&(t+=1)})),t}),[s]),d=Object(v.a)({type:"ingredient",item:{_id:e._id,name:e.name,type:e.type,image:e.image,price:e.price},collect:function(e){return{opacity:e.isDragging()?.5:1}}}),j=Object(l.a)(d,2),m=j[0].opacity,_=j[1];return Object(x.jsxs)("div",{className:N.a.item,onClick:function(){n.replace({pathname:"/ingredients/".concat(e._id),state:{backgroundForIngredient:t}})},ref:_,style:{opacity:"".concat(m)},children:[Object(x.jsx)(I,{count:"bun"===e.type?i:o}),Object(x.jsx)("img",{src:e.image,alt:"burger-item",className:N.a.image}),Object(x.jsxs)("div",{className:"".concat(N.a.price," mt-1"),children:[Object(x.jsx)("p",{className:"text text_type_main-medium ".concat(N.a.priceValue),children:e.price}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]}),Object(x.jsx)("p",{style:{margin:0},className:"text text_type_main-medium ".concat(N.a.name," mt-1"),children:e.name})]})},R=function(){var e=u((function(e){return e.burgerIngredients.ingredients})),t=Object(r.useRef)(null),n=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(r.useRef)(null),s=Object(r.useState)("bun"),i=Object(l.a)(s,2),o=i[0],d=i[1],j=Object(r.useMemo)((function(){return e&&e.filter((function(e){return"bun"===e.type}))}),[e]),m=Object(r.useMemo)((function(){return e&&e.filter((function(e){return"sauce"===e.type}))}),[e]),p=Object(r.useMemo)((function(){return e&&e.filter((function(e){return"main"===e.type}))}),[e]);return Object(x.jsxs)("div",{className:g.a.content,children:[Object(x.jsx)("h1",{className:"mt-10 text text_type_main-large",style:{marginBottom:0},children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(x.jsxs)("div",{className:"".concat(g.a.tabs," mt-5"),ref:t,children:[Object(x.jsx)(b.Tab,{value:"bun",active:"bun"===o,onClick:function(){return console.log("tabclick")},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(x.jsx)(b.Tab,{value:"sauce",active:"sauce"===o,onClick:function(){return console.log("tabclick")},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(x.jsx)(b.Tab,{value:"main",active:"main"===o,onClick:function(){return console.log("tabclick")},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"})]}),e?Object(x.jsxs)("div",{className:g.a.categories,onScroll:function(){var e=t.current.getBoundingClientRect().top,r=Math.abs(e-n.current.getBoundingClientRect().top),s=Math.abs(e-c.current.getBoundingClientRect().top),i=Math.abs(e-a.current.getBoundingClientRect().top),o=Math.min(r,s,i);d(o===r?"bun":o===s?"sauce":"main")},children:[Object(x.jsx)("h2",{className:"mt-10 text text_type_main-medium",style:{marginBottom:0},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(x.jsx)("div",{className:"".concat(g.a.category," pl-4 mt-6"),ref:n,children:j&&j.map((function(e){return Object(x.jsx)(T,{_id:e._id,type:e.type,image:e.image_large,price:e.price,name:e.name},e._id)}))}),Object(x.jsx)("h2",{className:"mt-10 text text_type_main-medium",style:{marginBottom:0},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(x.jsx)("div",{className:"".concat(g.a.category," pl-4 mt-6"),ref:c,children:m&&m.map((function(e){return Object(x.jsx)(T,{_id:e._id,type:e.type,image:e.image_large,price:e.price,name:e.name},e._id)}))}),Object(x.jsx)("h2",{className:"mt-10 text text_type_main-medium",style:{marginBottom:0},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"}),Object(x.jsx)("div",{className:"".concat(g.a.category," pl-4 mt-6"),ref:a,children:p&&p.map((function(e){return Object(x.jsx)(T,{_id:e._id,type:e.type,image:e.image_large,price:e.price,name:e.name},e._id)}))})]}):Object(x.jsx)(x.Fragment,{})]})},S=n(44),k=n(207),B=n(36),w=n.n(B),D=n(23),U=n.n(D),P="GET_BURGER_INGREDIENTS_REQUEST",A="GET_BURGER_INGREDIENTS_SUCCESS",F="GET_BURGER_INGREDIENTS_FAILED",L="ADD_CONSTRUCTOR_INGREDIENT",q="DELETE_CONSTRUCTOR_INGREDIENT",M="INCREASE_CONSTRUCTOR_COUNT",G="DECREASE_CONSTRUCTOR_COUNT",V="ADD_CONSTRUCTOR_BUN",z="UPDATE_CONSTRUCTOR_INGREDIENTS",H="GET_ORDER_REQUEST",W="GET_ORDER_SUCCESS",J="GET_ORDER_FAILED",Q="CLEAR_ORDER",K="REGISTER_REQUEST",X="REGISTER_SUCCESS",Y="REGISTER_FAILED",Z="AUTH_REQUEST",$="AUTH_SUCCESS",ee="AUTH_FAILED",te="LOGOUT_REQUEST",ne="LOGOUT_SUCCESS",re="LOGOUT_FAILED",ce="GET_USER_REQUEST",ae="GET_USER_SUCCESS",se="GET_USER_FAILED",ie="USER_UPDATE_REQUEST",oe="USER_UPDATE_SUCCESS",le="USER_UPDATE_FAILED",ue="WS_CONNECTION_START",de="WS_CONNECTION_SUCCESS",je="WS_CONNECTION_ERROR",me="WS_CONNECTION_CLOSED",pe="WS_GET_MESSAGE",be=function(){return{type:M}},_e=function(){return{type:G}},Oe=function(e){var t=d(),n=Object(r.useRef)(null),c=Object(k.a)({accept:"constructor",hover:function(r,c){if(n.current){var a=r.index,s=e.index;if(a!==s){var i=n.current.getBoundingClientRect(),o=(i.bottom-i.top)/2,l=c.getClientOffset().y-i.top;a<s&&l<o||a>s&&l>o||(t(function(e,t){return{type:z,payload:{dragIndex:e,hoverIndex:t}}}(a,s)),r.index=s)}}}}),a=Object(l.a)(c,2)[1],s=Object(v.a)({type:"constructor",item:{index:e.index},collect:function(e){return{opacity:e.isDragging()?0:1}}}),i=Object(l.a)(s,2),o=i[0].opacity;return(0,i[1])(a(n)),Object(x.jsxs)("div",{className:"".concat(U.a.item),style:{justifyContent:"".concat(e.type&&"flex-end"),opacity:"".concat(o)},ref:e.type?null:n,children:[!e.type&&Object(x.jsx)(b.DragIcon,{type:"primary"}),Object(x.jsxs)("div",{className:"".concat(e.type?"bun-top"===e.type?U.a.itemDataBunTop:"bun-bottom"===e.type?U.a.itemDataBunBottom:void 0:U.a.itemData," pl-6 pt-4 pb-4 pr-8"),children:[Object(x.jsx)("img",{alt:"item-card",src:e.image,className:U.a.image}),Object(x.jsx)("p",{className:"text text_type_main-medium ".concat(U.a.name),children:"".concat(e.name," ").concat(e.type?"bun-top"===e.type?"(\u0432\u0435\u0440\u0445)":"bun-bottom"===e.type?"(\u043d\u0438\u0437)":void 0:"")}),Object(x.jsxs)("div",{className:U.a.price,children:[Object(x.jsx)("p",{className:"text text_type_main-medium ".concat(U.a.priceValue),children:e.price}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]}),e.type?Object(x.jsx)(b.LockIcon,{type:"secondary"}):Object(x.jsx)(b.DeleteIcon,{type:"primary",onClick:function(){var n;t((n=e.uniqueKey,{type:q,payload:n})),t(_e())}})]})]})},xe=n(30),he=n.n(xe),fe=n(57),ge=n(2),ve=function(e){var t=e.email,n=e.password,r=e.name,c=e.history;return function(e){e({type:K}),fetch("".concat(Te,"/auth/register"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:t,password:n,name:r})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){t.success?(e({type:X}),c.push("/login")):Promise.reject(t)})).catch((function(){return e({type:Y})}))}},ye=function(e){var t=e.email,n=e.password,r=e.history;return function(e){e({type:Z}),fetch("".concat(Te,"/auth/login"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){if(t.success){var n=t.accessToken.split("Bearer ")[1];Be("accessToken",n),Be("refreshToken",t.refreshToken),e((c=t.user,{type:$,payload:c})),r.push("/")}else Promise.reject(t);var c})).catch((function(){return e({type:ee})}))}},Ne=function(){console.log("refresh");var e=ke("refreshToken");return fetch("".concat(Te,"/auth/token"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:"".concat(e)})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},Ce=function(){return function(e){var t=ke("refreshToken");e({type:te}),fetch("".concat(Te,"/auth/logout"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:"".concat(t)})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){t.success?(we("accessToken"),we("refreshToken"),e({type:ne})):Promise.reject(t)})).catch((function(){return e({type:re})}))}},Ee=function(){return function(e){var t=ke("accessToken");e({type:ce}),De("".concat(Te,"/auth/user"),{headers:{"Content-type":"application/json",authorization:"Bearer ".concat(t)}}).then((function(t){var n;t.success?e((n=t.user,{type:ae,payload:n})):Promise.reject(t)})).catch((function(){return e({type:se})}))}},Ie=function(e){var t=e.email,n=e.password,r=e.name;return function(e){var c=ke("accessToken");e({type:ie}),De("".concat(Te,"/auth/user"),{method:"PATCH",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(c)},body:JSON.stringify({email:t,password:n,name:r})}).then((function(t){var n;t.success?e((n=t.user,{type:oe,payload:n})):Promise.reject(t)})).catch((function(){return e({type:le})}))}},Te="https://norma.nomoreparties.space/api",Re="wss://norma.nomoreparties.space/orders",Se=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ke=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(n=Object(ge.a)({path:"/",expires:"Fri, 31 Dec 9999 23:59:59 GMT"},n)).expires;if("number"==typeof r&&r){var c=new Date;c.setTime(c.getTime()+1e3*r),r=n.expires=c}r&&r.toUTCString&&(n.expires=r.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var s in n){a+="; "+s;var i=n[s];!0!==i&&(a+="="+i)}document.cookie=a},we=function(e){Be(e,null,{expires:-1})},De=function(){var e=Object(fe.a)(he.a.mark((function e(t,n){var r,c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n).then(function(){var e=Object(fe.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return e.next=4,t.json();case 4:return n=e.sent,e.next=7,Promise.reject(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case 20:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),"jwt expired"!==e.t0.message){e.next=23;break}return e.next=11,Ne();case 11:return r=e.sent,c=r.accessToken.split("Bearer ")[1],Be("accessToken",c),Be("refreshToken",r.refreshToken),console.log(r),n.headers||(n.headers={}),n.headers.authorization=ke("accessToken"),e.next=20,fetch(t,n).then(function(){var e=Object(fe.a)(he.a.mark((function e(t){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return e.next=4,t.json();case 4:return n=e.sent,e.next=7,Promise.reject(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(e){var t=new Date;return e.slice(0,10)===t.toISOString().slice(0,10)?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f, ".concat(e.slice(11,16)," i-GMT+3"):"".concat(e.slice(0,10),", ").concat(e.slice(11,16)," i-GMT+3")},Pe=function(e){return function(t){var n=ke("accessToken");t({type:H}),De("".concat(Te,"/orders"),{method:"POST",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(n)},body:JSON.stringify({ingredients:e})}).then((function(e){return t((n=e.order.number,{type:W,payload:n}));var n})).catch((function(){return t({type:J})}))}},Ae=function(e){var t=d(),n=Object(p.g)(),c=u((function(e){return e.burgerConstructor})),a=c.constructorBuns,s=c.constructorIngredients,i=u((function(e){return e.user})).isAuth,o=Object(r.useMemo)((function(){var e=0;return s.forEach((function(t){"bun"!==t.type&&(e+=t.price)})),a?e+2*a.price:e}),[a,s]),j=Object(k.a)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(e){"bun"===e.type?t(function(e){var t=Math.random();return e.key=t.toString(),{type:V,payload:e}}(e)):t(function(e){var t=Math.random();return e.key=t.toString(),{type:L,payload:e}}(e)),a&&"bun"===e.type?(t(_e()),t(be())):t(be())}}),m=Object(l.a)(j,2),_=m[0].isHover,O=m[1];return Object(x.jsxs)("div",{className:"mt-25 ".concat(w.a.content),children:[Object(x.jsx)("div",{style:{border:"".concat(_?"2px solid #4c4cff":""),borderRadius:40},ref:O,children:a||s.length>0?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:a?Object(x.jsx)(Oe,{uniqueKey:a.key,image:a.image,name:a.name,price:a.price,type:"bun-top"},a.key):Object(x.jsx)("h2",{className:"text text_type_main-medium",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})}),Object(x.jsx)("div",{className:"mt-4 pr-2 ".concat(w.a.list),children:s.map((function(e,t){return Object(x.jsx)(Oe,{index:t,uniqueKey:e.key,image:e.image,name:e.name,price:e.price},e.key)}))}),Object(x.jsx)("div",{className:"mt-4",children:a?Object(x.jsx)(Oe,{uniqueKey:a.key,image:a.image,name:a.name,price:a.price,type:"bun-bottom"},a.key):Object(x.jsx)("h2",{className:"text text_type_main-medium",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})})]}):Object(x.jsx)("div",{style:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("h2",{className:"text text_type_main-large",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043f\u0443\u0441\u0442"})})}),Object(x.jsxs)("div",{className:"".concat(w.a.summary," mt-10"),children:[Object(x.jsxs)("div",{className:"".concat(w.a.summaryPrice," mr-10"),children:[Object(x.jsx)("p",{className:"text text_type_main-medium mr-2 ".concat(w.a.summaryPriceValue),children:a||s.length>0?o:0}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]}),Object(x.jsx)(b.Button,{type:"primary",size:"medium",onClick:function(){if(!i)return n.replace("/login");var r=s.map((function(e){return e._id}));t(Pe([].concat(Object(S.a)(r),[a._id]))),e.onModalType(),e.onModalOpen()},disabled:!a,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},Fe=n(106),Le=n.n(Fe),qe=function(e){var t=e.children,n=e.onModalClose;return Object(x.jsx)("div",{className:Le.a.overlay,onClick:function(e){return e.target===e.currentTarget&&n()},children:t})},Me=n(79),Ge=n.n(Me),Ve=document.getElementById("modals"),ze=function(e){var t=e.children,n=e.onModalClose,c="order"===e.type?"90%":"70%",a=function(e){"Escape"===e.code&&n()};return Object(r.useEffect)((function(){return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}),[]),s.a.createPortal(Object(x.jsx)(qe,{onModalClose:n,children:Object(x.jsxs)("div",{className:Ge.a.modal,style:{height:"".concat(c)},children:[Object(x.jsx)("div",{className:Ge.a.closeIcon,onClick:n,children:Object(x.jsx)(b.CloseIcon,{type:"primary"})}),t]})}),Ve)},He=n(25),We=n.n(He),Je=function(){var e,t=Object(p.h)(),n=Object(p.i)().id,c=u((function(e){return e.burgerIngredients.ingredients})),a=u((function(e){return e.burgerIngredients})).ingredientsLoaded,s=Object(r.useMemo)((function(){return c&&c.find((function(e){return e._id===n}))}),[c]);return a?a&&!s?Object(x.jsx)(p.a,{to:"/"}):Object(x.jsxs)("div",{className:We.a.container,style:{height:"".concat(!(null===(e=t.state)||void 0===e?void 0:e.background)&&"90vh")},children:[Object(x.jsx)("h3",{className:"text text_type_main-large mt-15",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(x.jsx)("img",{src:null===s||void 0===s?void 0:s.image_large,alt:"ingredient-icon",className:We.a.image}),Object(x.jsx)("p",{className:"text text_type_main-medium mt-4",children:null===s||void 0===s?void 0:s.name}),Object(x.jsxs)("div",{className:"".concat(We.a.properties," mt-8"),children:[Object(x.jsxs)("div",{className:We.a.property,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===s||void 0===s?void 0:s.calories})]}),Object(x.jsxs)("div",{className:We.a.property,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===s||void 0===s?void 0:s.proteins})]}),Object(x.jsxs)("div",{className:We.a.property,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===s||void 0===s?void 0:s.fat})]}),Object(x.jsxs)("div",{className:We.a.property,children:[Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===s||void 0===s?void 0:s.carbohydrates})]})]})]}):null},Qe=n(45),Ke=n.n(Qe),Xe=n.p+"static/media/done.54f842c2.png",Ye=function(){var e=u((function(e){return e.order})),t=e.orderNumber,n=e.orderRequest;return Object(x.jsx)(x.Fragment,{children:n?Object(x.jsx)("div",{className:Ke.a.container,style:{justifyContent:"center"},children:Object(x.jsx)("h1",{className:"text text_type_main-large",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}):Object(x.jsxs)("div",{className:Ke.a.container,children:[Object(x.jsx)("h3",{className:"text text_type_digits-large mt-30 ".concat(Ke.a.order),children:t}),Object(x.jsx)("p",{className:"text text_type_main-medium mt-8 ".concat(Ke.a.orderIdText),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(x.jsx)("img",{src:Xe,alt:"done-icon",className:"mt-15",style:{width:120,height:120}}),Object(x.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(x.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})})},Ze=n(80),$e=n.n(Ze),et=function(){return function(e){e({type:P}),fetch("".concat(Te,"/ingredients")).then((function(e){return e.ok?e.json():Promise.reject()})).then((function(t){return e((n=t.data,{type:A,payload:n}));var n})).catch((function(){return e({type:F})}))}},tt=n(37),nt=n.n(tt),rt=function(){var e,t=Object(p.g)(),n=Object(p.h)(),c=d(),a=u((function(e){return e.user})),s=a.isAuth,i=a.getUserRequest,j=Object(r.useState)(""),m=Object(l.a)(j,2),_=m[0],O=m[1],h=Object(r.useState)(""),f=Object(l.a)(h,2),g=f[0],v=f[1],y=function(e){var t=e.target;"email"===t.name?O(t.value):v(t.value)};return i?null:!i&&s?Object(x.jsx)(p.a,{to:(null===(e=n.state)||void 0===e?void 0:e.from)||"/profile"}):Object(x.jsx)("main",{className:nt.a.section,children:Object(x.jsxs)("div",{className:nt.a.content,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(ye({email:_,password:g,history:t}))},noValidate:!0,className:nt.a.form,children:[Object(x.jsx)("h2",{className:"text text_type_main-large",children:"\u0412\u0445\u043e\u0434"}),Object(x.jsx)(b.EmailInput,{name:"email",value:_||"",onChange:y}),Object(x.jsx)(b.PasswordInput,{name:"password",value:g||"",onChange:y}),Object(x.jsx)(b.Button,{type:"primary",size:"medium",disabled:!_||!g,children:"\u0412\u0445\u043e\u0434"})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"text text_type_main-default text_color_inactive",children:[Object(x.jsx)("span",{children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(x.jsx)(o.b,{to:"/register",className:"".concat(nt.a.link," ml-2"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(x.jsxs)("div",{className:"text text_type_main-default text_color_inactive",children:[Object(x.jsx)("span",{children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(x.jsx)(o.b,{to:"/forgot-password",className:"".concat(nt.a.link," ml-2"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})},ct=n(46),at=n.n(ct),st=function(){var e,t=d(),n=u((function(e){return e.user})),c=(n.user,n.isAuth),a=n.getUserRequest,s=n.errorText,i=n.registerError,j=Object(p.g)(),m=Object(p.h)(),_=Object(r.useState)(""),O=Object(l.a)(_,2),h=O[0],f=O[1],g=Object(r.useState)(""),v=Object(l.a)(g,2),y=v[0],N=v[1],C=Object(r.useState)(""),E=Object(l.a)(C,2),I=E[0],T=E[1],R=Object(r.useState)(!1),S=Object(l.a)(R,2),k=S[0],B=S[1],w=function(e){var t=e.target;"email"===t.name?N(t.value):"username"===t.name?f(t.value):T(t.value)};return Object(r.useEffect)((function(){return y.length>0&&!y.match(Se)?B(!0):B(!1)}),[y]),a?null:!a&&c?Object(x.jsx)(p.a,{to:(null===(e=m.state)||void 0===e?void 0:e.from)||"/profile"}):Object(x.jsx)("main",{className:at.a.section,children:Object(x.jsxs)("div",{className:at.a.content,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(ve({email:y,name:h,password:I,history:j}))},noValidate:!0,className:at.a.form,children:[Object(x.jsx)("h2",{className:"text text_type_main-large",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(x.jsx)(b.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"username",value:h||"",onChange:w}),Object(x.jsx)(b.Input,{type:"email",placeholder:"E-mail",name:"email",value:y||"",onChange:w,error:k,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}),Object(x.jsx)(b.PasswordInput,{name:"password",value:I||"",onChange:w}),Object(x.jsx)(b.Button,{type:"primary",size:"medium",disabled:!y||k||!I||!h||i,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(x.jsx)("p",{className:"text text_type_main-small mt-2",style:{color:"red"},children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"===s&&s})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"text text_type_main-default text_color_inactive",children:[Object(x.jsx)("span",{children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(x.jsx)(o.b,{to:"/login",className:"".concat(at.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})},it=n(47),ot=n.n(it),lt=function(){var e,t=Object(p.g)(),n=Object(p.h)(),c=u((function(e){return e.user})),a=c.isAuth,s=c.getUserRequest,i=Object(r.useState)(""),d=Object(l.a)(i,2),j=d[0],m=d[1],_=Object(r.useState)(!1),O=Object(l.a)(_,2),h=O[0],f=O[1];return Object(r.useEffect)((function(){return t.replace({forgotPageVisited:!1})}),[]),Object(r.useEffect)((function(){return j.length>0&&!j.match(Se)?f(!0):f(!1)}),[j]),s?null:!s&&a?Object(x.jsx)(p.a,{to:(null===(e=n.state)||void 0===e?void 0:e.from)||"/profile"}):Object(x.jsx)("main",{className:ot.a.section,children:Object(x.jsxs)("div",{className:ot.a.content,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(Te,"/password-reset"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:j})}).then((function(e){if(e.ok)return e.json();f(!0)})).then((function(e){e.success?t.replace("/reset-password",{forgotPageVisited:!0}):f(!0)})).catch((function(){return f(!0)}))},noValidate:!0,className:ot.a.form,children:[Object(x.jsx)("h2",{className:"text text_type_main-large",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(x.jsx)(b.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",value:j||"",onChange:function(e){var t=e.target;"email"===t.name&&m(t.value)},error:h,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}),Object(x.jsx)(b.Button,{type:"primary",size:"medium",disabled:!j||h,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"text text_type_main-default text_color_inactive",children:[Object(x.jsx)("span",{children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(x.jsx)(o.b,{to:"/login",className:"".concat(ot.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})},ut=n(31),dt=n.n(ut),jt=function(){var e,t,n=Object(p.g)(),c=Object(p.h)(),a=u((function(e){return e.user})),s=a.isAuth,i=a.getUserRequest,d=Object(r.useState)(!1),j=Object(l.a)(d,2),m=j[0],_=j[1],O=Object(r.useState)(""),h=Object(l.a)(O,2),f=h[0],g=h[1],v=Object(r.useState)(""),y=Object(l.a)(v,2),N=y[0],C=y[1],E=Object(r.useRef)(null),I=function(e){var t=e.target;"code"===t.name?g(t.value):C(t.value)},T=function(){_(!m),m||setTimeout((function(){var e;return null===(e=E.current)||void 0===e?void 0:e.focus()}),0)};return i?null:!i&&s?Object(x.jsx)(p.a,{to:(null===(t=c.state)||void 0===t?void 0:t.from)||"/profile"}):(null===(e=c.state)||void 0===e?void 0:e.forgotPageVisited)?Object(x.jsx)("main",{className:dt.a.section,onClick:function(e){m&&"input__icon input__icon-action"!==e.currentTarget.classList.value&&_(!m)},children:Object(x.jsxs)("div",{className:dt.a.content,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(Te,"/password-reset/reset"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({password:N,token:f})}).then((function(e){if(e.ok)return e.json();alert("ERROR")})).then((function(e){e.success?n.replace("/login",{forgotPageVisited:!1}):alert("ERROR")})).catch((function(e){return alert(e)}))},noValidate:!0,className:dt.a.form,children:[Object(x.jsx)("h2",{className:"text text_type_main-large",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(x.jsx)("div",{className:m?dt.a.hideInput:"",children:Object(x.jsx)(b.Input,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",value:N||"",icon:"ShowIcon",onChange:I,onIconClick:T})}),Object(x.jsx)("div",{className:m?"":dt.a.hideInput,children:Object(x.jsx)(b.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",value:N||"",icon:"HideIcon",onChange:I,onIconClick:T,ref:E})}),Object(x.jsx)(b.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"code",value:f||"",onChange:I}),Object(x.jsx)(b.Button,{type:"primary",size:"medium",disabled:!N||!f,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"text text_type_main-default text_color_inactive",children:[Object(x.jsx)("span",{children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(x.jsx)(o.b,{to:"/login",className:"".concat(dt.a.link," ml-2"),children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})}):Object(x.jsx)(p.a,{to:"/forgot-password"})},mt=n(11),pt=n.n(mt),bt=function(e){var t=e.value,n=e.onChange,c=e.name,a=e.placeholder,s=e.size,i=void 0===s?"default":s,o=Object(r.useState)(!0),u=Object(l.a)(o,2),d=u[0],j=u[1],m=Object(r.useState)(!1),p=Object(l.a)(m,2),_=p[0],O=p[1],h=Object(r.useState)(!1),f=Object(l.a)(h,2),g=f[0],v=f[1],y=Object(r.useRef)(null);return Object(x.jsx)(b.Input,{type:_?"text":"password",placeholder:a,onChange:n,icon:_?"CloseIcon":"EditIcon",value:t,ref:y,onBlur:function(e){(null===e||void 0===e?void 0:e.target.value)?function(e){v(e.length<6)}(e.target.value):v(!1),j(!0),O(!1)},onFocus:function(){v(!1)},name:c,error:g,onIconClick:function(){j(!1),O(!0),setTimeout((function(){var e;return null===(e=y.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",size:i,disabled:d})},_t=function(e){var t=e.value,n=e.onChange,c=e.name,a=e.placeholder,s=e.size,i=void 0===s?"default":s,o=Object(r.useState)(!0),u=Object(l.a)(o,2),d=u[0],j=u[1],m=Object(r.useState)(!1),p=Object(l.a)(m,2),_=p[0],O=p[1],h=Object(r.useRef)(null);return Object(x.jsx)(b.Input,{type:"email",placeholder:a,onChange:n,icon:d?"EditIcon":"CloseIcon",value:t,ref:h,onBlur:function(e){(null===e||void 0===e?void 0:e.target.value)?function(e){O(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))}(e.target.value):O(!1),j(!0)},onFocus:function(){O(!1)},name:c,error:_,disabled:d,onIconClick:function(){j(!1),setTimeout((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0439, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",size:i})},Ot=function(e){var t=e.value,n=e.onChange,c=e.name,a=e.placeholder,s=e.size,i=void 0===s?"default":s,o=Object(r.useState)(!0),u=Object(l.a)(o,2),d=u[0],j=u[1],m=Object(r.useState)(!1),p=Object(l.a)(m,2),_=p[0],O=p[1],h=Object(r.useRef)(null);return Object(x.jsx)(b.Input,{type:"text",placeholder:a,onChange:n,icon:d?"EditIcon":"CloseIcon",value:t,ref:h,onBlur:function(){j(!0)},onFocus:function(){O(!1)},name:c,error:_,disabled:d,onIconClick:function(){j(!1),setTimeout((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0439, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",size:i})},xt=n(48),ht=n.n(xt),ft=n.p+"static/media/ingredients.e82b11a4.png",gt=function(e){var t=Object(p.g)(),n=Object(p.h)(),c=u((function(e){return e.burgerIngredients})).ingredients,a=Object(r.useMemo)((function(){var t=0,n=e.ingredients;return c.forEach((function(e){for(var r=0;r<n.length;r++)e._id===n[r]&&(t+=e.price)})),t}),[c,e.ingredients]);return Object(x.jsxs)("div",{className:ht.a.card,onClick:function(){"/feed"===n.pathname&&t.replace({pathname:"/feed/".concat(e._id),state:{backgroundForFeed:n}}),"/profile/orders"===n.pathname&&t.replace({pathname:"/profile/orders/".concat(e._id),state:{backgroundForProfile:n}})},children:[Object(x.jsxs)("div",{className:ht.a.numberInfo,children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:"#".concat(e.number)}),Object(x.jsx)("p",{className:"text text_type_main-small text_color_inactive",children:Ue(e.createdAt)})]}),Object(x.jsx)("p",{className:"text text_type_main-medium",children:e.name}),"/profile/orders"===n.pathname&&Object(x.jsx)("p",{className:"text text_type_main-small",style:{color:"".concat("done"===e.status&&"#00cccc")},children:e.status}),Object(x.jsxs)("div",{className:ht.a.detailsInfo,children:[Object(x.jsx)("img",{src:ft,alt:"tempOrder"}),Object(x.jsxs)("div",{className:ht.a.cost,children:[Object(x.jsx)("p",{className:"text text_type_main-medium mr-2",children:a}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]})},vt=function(){var e=Object(p.g)(),t=d(),n=ke("accessToken"),c=u((function(e){return e.user})),a=u((function(e){return e.orders})).orders,s=Object(r.useState)(""),i=Object(l.a)(s,2),j=i[0],m=i[1],_=Object(r.useState)(""),O=Object(l.a)(_,2),h=O[0],f=O[1],g=Object(r.useState)("Batradz777"),v=Object(l.a)(g,2),y=v[0],N=v[1],C=function(e){var t=e.target;"email"===t.name?m(t.value):"name"===t.name?f(t.value):N(t.value)};return Object(r.useEffect)((function(){return t({type:ue,payload:"".concat(Re,"/all?token=").concat(n)}),function(){t({type:me})}}),[n,t]),Object(r.useEffect)((function(){m(c.user.email),f(c.user.name)}),[c.user]),Object(x.jsx)("main",{className:pt.a.main,children:Object(x.jsxs)("div",{className:pt.a.content,children:[Object(x.jsxs)("div",{className:"".concat(pt.a.navColumn),children:[Object(x.jsxs)("nav",{className:pt.a.navBar,children:[Object(x.jsx)(o.c,{exact:!0,to:"/profile",className:"text text_type_main-large ".concat(pt.a.navLink," pt-2 pb-2"),activeClassName:pt.a.activeNavLink,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(x.jsx)(o.c,{to:"/profile/orders",className:"text text_type_main-large ".concat(pt.a.navLink," pt-2 pb-2"),activeClassName:pt.a.activeNavLink,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(x.jsx)(o.c,{to:"/profile/exit",className:"text text_type_main-large ".concat(pt.a.navLink," pt-2 pb-2"),activeClassName:pt.a.activeNavLink,onClick:function(){t(Ce()),e.replace("/login")},children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(x.jsx)("p",{className:"text text_type_main-small text_color_inactive ".concat(pt.a.navText),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(x.jsxs)(p.d,{children:[Object(x.jsx)(p.b,{path:"/profile",exact:!0,children:Object(x.jsx)("div",{className:pt.a.profileColumn,children:Object(x.jsxs)("div",{className:pt.a.profileInfo,children:[Object(x.jsx)(Ot,{placeholder:"\u0418\u043c\u044f",name:"name",value:h,onChange:C}),Object(x.jsx)(_t,{placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"email",value:j,onChange:C}),Object(x.jsx)(bt,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:y,onChange:C}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(x.jsx)(b.Button,{size:"medium",type:"secondary",onClick:function(){m(c.user.email),f(c.user.name),N("Batradz777")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(x.jsx)(b.Button,{size:"medium",type:"primary",onClick:function(){j===c.user.email&&h===c.user.name||t(Ie({email:j,name:h,password:y}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})}),Object(x.jsx)(p.b,{path:"/profile/orders",children:Object(x.jsx)("div",{style:{width:"70%"},children:Object(x.jsx)("div",{className:pt.a.ordersList,children:a.map((function(e){return Object(x.jsx)(gt,{_id:e._id,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,number:e.number,name:e.name,ingredients:e.ingredients},e._id)}))})})})]})]})})},yt=n(19),Nt=n.n(yt),Ct=function(){var e=d(),t=u((function(e){return e.orders})),n=t.total,c=t.totalToday,a=t.orders,s=Object(r.useMemo)((function(){return a.filter((function(e){return"done"===e.status})).slice(0,5)}),[a]),i=Object(r.useMemo)((function(){return a.filter((function(e){return"pending"===e.status})).slice(0,10)}),[a]);return Object(r.useEffect)((function(){return e({type:ue,payload:"".concat(Re,"/all")}),function(){e({type:me})}}),[]),Object(x.jsxs)("div",{className:Nt.a.main,children:[Object(x.jsx)("div",{style:{width:"87%"},children:Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(x.jsxs)("div",{className:Nt.a.content,children:[Object(x.jsx)("div",{className:Nt.a.feed,children:Object(x.jsx)("div",{className:Nt.a.ordersList,children:a.map((function(e){return Object(x.jsx)(gt,{_id:e._id,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,number:e.number,name:e.name,ingredients:e.ingredients},e._id)}))})}),Object(x.jsxs)("div",{className:Nt.a.orders,children:[Object(x.jsxs)("div",{className:Nt.a.ordersNumbers,children:[Object(x.jsxs)("div",{className:Nt.a.ordersReady,children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(x.jsx)("div",{children:s.map((function(e){return Object(x.jsx)("p",{className:"text text_type_digits-default ".concat(Nt.a.colorfulDigits),children:e.number},Math.random())}))})]}),Object(x.jsxs)("div",{className:Nt.a.ordersInWork,children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(x.jsx)("div",{children:i.map((function(e){return Object(x.jsx)("p",{className:"text text_type_digits-default",children:e.number},Math.random())}))})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(x.jsx)("p",{className:"text text_type_digits-large ".concat(Nt.a.largeDigits),children:n})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(x.jsx)("p",{className:"text text_type_digits-large ".concat(Nt.a.largeDigits),children:c})]})]})]})]})},Et=n(110),It=["children"],Tt=function(e){var t=e.children,n=Object(Et.a)(e,It),r=u((function(e){return e.user})),c=r.isAuth;return r.getUserRequest?null:Object(x.jsx)(p.b,Object(ge.a)(Object(ge.a)({},n),{},{render:function(e){var n=e.location;return c?t:Object(x.jsx)(p.a,{to:{pathname:"/login",state:{from:n}}})},exact:!0}))},Rt=n(107),St=n.n(Rt),kt=function(){var e,t,n=Object(p.h)(),c=Object(p.i)().id,a=d(),s=null===(e=n.state)||void 0===e?void 0:e.backgroundForFeed,i=null===(t=n.state)||void 0===t?void 0:t.backgroundForProfile,o=u((function(e){return e.orders})).orders,l=u((function(e){return e.burgerIngredients})).ingredients,j=Object(r.useMemo)((function(){return o.find((function(e){return e._id===c}))}),[c,o]),m=function(e){var t=[];return null===j||void 0===j||j.ingredients.map((function(n){e.forEach((function(e){e._id===n&&t.push(e)}))})),t}(l),_=Object(r.useMemo)((function(){var e=0;return m.forEach((function(t){return e+=t.price})),e}),[m]);return Object(r.useEffect)((function(){return n.state||a({type:ue,payload:"".concat(Re,"/all")}),function(){n.state||a({type:me})}}),[]),j?Object(x.jsx)("div",{style:{width:"100%",height:"90vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(x.jsxs)("div",{style:{width:"".concat(s||i?"80%":"35%"),height:"80vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(x.jsx)("p",{className:"text text_type_digits-default",style:{textAlign:"center"},children:"#".concat(null===j||void 0===j?void 0:j.number)}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"text text_type_main-medium",children:null===j||void 0===j?void 0:j.name}),Object(x.jsx)("p",{className:"text text_type_main-small",style:{color:"#00CCCC"},children:null===j||void 0===j?void 0:j.status})]}),Object(x.jsx)("p",{className:"text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(x.jsx)("div",{className:St.a.list,children:m.map((function(e){return Object(x.jsxs)("div",{style:{width:"95%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("img",{src:e.image_mobile,alt:"ingredientLogo",style:{width:64,height:64}}),Object(x.jsx)("span",{className:"text text_type_main-small",children:e.name})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("p",{className:"text text_type_main-medium mr-2",children:e.price}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]})]},e._id+Math.random())}))}),Object(x.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(x.jsx)("p",{className:"text text_type_main-small text_color_inactive",children:Ue(j.createdAt)}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("p",{className:"text text_type_main-medium mr-2",children:_}),Object(x.jsx)(b.CurrencyIcon,{type:"primary"})]})]})]})}):null},Bt=function(){var e,t,n,a,s,i=d(),o=Object(p.g)(),u=Object(p.h)(),b=null===(e=u.state)||void 0===e?void 0:e.backgroundForIngredient,_=null===(t=u.state)||void 0===t?void 0:t.backgroundForFeed,O=null===(n=u.state)||void 0===n?void 0:n.backgroundForProfile,f=Object(r.useState)(!1),g=Object(l.a)(f,2),v=g[0],y=g[1],N=Object(r.useState)(null),C=Object(l.a)(N,2),E=C[0],I=C[1],T=Object(r.useCallback)((function(){y(!0)}),[]),S=Object(r.useCallback)((function(){y(!1),"order"===E&&(i({type:Q}),I(null)),b&&o.replace(b),_&&o.replace(_),O&&o.replace(O)}),[E,b,o,_,O,i]),k=c.a.useCallback((function(){I("order")}),[]);return Object(r.useEffect)((function(){ke("accessToken")?i(Ee()):i({type:se}),i(et())}),[]),Object(x.jsxs)(x.Fragment,{children:[v&&Object(x.jsx)(ze,{onModalClose:S,type:E,children:Object(x.jsx)(Ye,{})}),Object(x.jsx)(h,{}),Object(x.jsxs)(p.d,{location:null!==(a=null!==(s=null!==b&&void 0!==b?b:_)&&void 0!==s?s:O)&&void 0!==a?a:u,children:[Object(x.jsx)(p.b,{path:"/",exact:!0,children:Object(x.jsx)("main",{className:$e.a.main,children:Object(x.jsx)("div",{className:$e.a.content,children:Object(x.jsxs)(m.a,{backend:j.a,children:[Object(x.jsx)(R,{}),Object(x.jsx)(Ae,{onModalOpen:T,onModalType:k})]})})})}),Object(x.jsx)(p.b,{path:"/feed",exact:!0,children:Object(x.jsx)(Ct,{})}),Object(x.jsx)(p.b,{path:"/feed/:id",children:Object(x.jsx)(kt,{})}),Object(x.jsx)(p.b,{path:"/profile/orders/:id",children:Object(x.jsx)(kt,{})}),Object(x.jsx)(p.b,{path:"/login",exact:!0,children:Object(x.jsx)(rt,{})}),Object(x.jsx)(p.b,{path:"/register",exact:!0,children:Object(x.jsx)(st,{})}),Object(x.jsx)(p.b,{path:"/forgot-password",exact:!0,children:Object(x.jsx)(lt,{})}),Object(x.jsx)(p.b,{path:"/reset-password",exact:!0,children:Object(x.jsx)(jt,{})}),Object(x.jsx)(Tt,{path:"/profile",children:Object(x.jsx)(vt,{})}),Object(x.jsx)(p.b,{path:"/ingredients/:id",children:Object(x.jsx)(Je,{})})]}),b&&Object(x.jsx)(p.b,{path:"/ingredients/:id",children:Object(x.jsx)(ze,{onModalClose:S,type:"ingredient",children:Object(x.jsx)(Je,{})})}),_&&Object(x.jsx)(p.b,{path:"/feed/:id",children:Object(x.jsx)(ze,{onModalClose:S,type:"order",children:Object(x.jsx)(kt,{})})}),O&&Object(x.jsx)(p.b,{path:"/profile/orders/:id",children:Object(x.jsx)(ze,{onModalClose:S,type:"order",children:Object(x.jsx)(kt,{})})})]})},wt=n(24),Dt=n(108),Ut={orderNumber:null,orderRequest:!1,orderFailed:!1},Pt={constructorBuns:null,constructorIngredients:[],constructorCount:0},At={ingredients:null,ingredientsRequest:!1,ingredientsFailed:!1,ingredientsLoaded:!1},Ft={registerRequest:!1,registerError:!1,authRequest:!1,authError:!1,logoutRequest:!1,logoutError:!1,errorText:null,getUserRequest:!1,getUserError:!1,getUserLoaded:!1,userUpdateRequest:!1,userUpdateError:!1,isAuth:!1,user:null},Lt={ordersAllRequest:!1,ordersAllFailed:!1,total:0,totalToday:0,orders:[],wsConnected:!1},qt=Object(wt.b)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(ge.a)(Object(ge.a)({},e),{},{ingredientsRequest:!0});case A:return Object(ge.a)(Object(ge.a)({},e),{},{ingredients:t.payload,ingredientsRequest:!1,ingredientsFailed:!1,ingredientsLoaded:!0});case F:return Object(ge.a)(Object(ge.a)({},e),{},{ingredientsRequest:!1,ingredientsFailed:!0});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ge.a)(Object(ge.a)({},e),{},{constructorIngredients:[].concat(Object(S.a)(e.constructorIngredients),[t.payload])});case q:var n=t.payload,r=e.constructorIngredients.filter((function(e){return e.key!==n}));return Object(ge.a)(Object(ge.a)({},e),{},{constructorIngredients:r});case V:return Object(ge.a)(Object(ge.a)({},e),{},{constructorBuns:t.payload});case M:return Object(ge.a)(Object(ge.a)({},e),{},{constructorCount:e.constructorCount+1});case G:return Object(ge.a)(Object(ge.a)({},e),{},{constructorCount:e.constructorCount-1});case z:var c=Object(S.a)(e.constructorIngredients);return c.splice(t.payload.hoverIndex,0,c.splice(t.payload.dragIndex,1)[0]),Object(ge.a)(Object(ge.a)({},e),{},{constructorIngredients:c});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(ge.a)(Object(ge.a)({},e),{},{orderRequest:!0});case W:return Object(ge.a)(Object(ge.a)({},e),{},{orderNumber:t.payload,orderRequest:!1,orderFailed:!1});case J:return Object(ge.a)(Object(ge.a)({},e),{},{orderRequest:!1,orderFailed:!0});case Q:return Object(ge.a)(Object(ge.a)({},e),{},{orderNumber:null,orderRequest:!1,orderFailed:!1});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(ge.a)(Object(ge.a)({},e),{},{wsConnected:!1});case de:return Object(ge.a)(Object(ge.a)({},e),{},{error:void 0,wsConnected:!0});case je:return Object(ge.a)(Object(ge.a)({},e),{},{error:t.payload,wsConnected:!1});case me:return Object(ge.a)(Object(ge.a)({},e),{},{error:void 0,wsConnected:!1});case pe:return Object(ge.a)(Object(ge.a)({},e),{},{error:void 0,total:t.payload.total,totalToday:t.payload.totalToday,orders:t.payload.orders});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(ge.a)(Object(ge.a)({},e),{},{registerRequest:!0});case X:return Object(ge.a)(Object(ge.a)({},e),{},{registerRequest:!1,registerError:!1,errorText:""});case Y:return Object(ge.a)(Object(ge.a)({},e),{},{registerRequest:!1,registerError:!0,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"});case Z:return Object(ge.a)(Object(ge.a)({},e),{},{authRequest:!0});case $:return Object(ge.a)(Object(ge.a)({},e),{},{authRequest:!1,authError:!1,user:t.payload,isAuth:!0,errorText:""});case ee:return Object(ge.a)(Object(ge.a)({},e),{},{authRequest:!1,authError:!0,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",isAuth:!1});case te:return Object(ge.a)(Object(ge.a)({},e),{},{logoutRequest:!0});case ne:return Object(ge.a)(Object(ge.a)({},e),{},{logoutRequest:!1,logoutError:!1,isAuth:!1,user:null,errorText:""});case re:return Object(ge.a)(Object(ge.a)({},e),{},{logoutRequest:!1,logoutError:!0,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"});case ce:return Object(ge.a)(Object(ge.a)({},e),{},{getUserRequest:!0});case ae:return Object(ge.a)(Object(ge.a)({},e),{},{getUserRequest:!1,getUserError:!1,user:t.payload,isAuth:!0,getUserLoaded:!0,errorText:""});case se:return Object(ge.a)(Object(ge.a)({},e),{},{getUserRequest:!1,getUserError:!0,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",getUserLoaded:!1});case ie:return Object(ge.a)(Object(ge.a)({},e),{},{userUpdateRequest:!0});case oe:return Object(ge.a)(Object(ge.a)({},e),{},{userUpdateRequest:!1,userUpdateError:!1,user:t.payload,errorText:""});case le:return Object(ge.a)(Object(ge.a)({},e),{},{userUpdateRequest:!1,userUpdateError:!0,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"});default:return e}}}),Mt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):wt.c)(Object(wt.a)(Dt.a,(function(e){var t=null;return function(n){return function(r){var c=e.dispatch,a=(e.getState,r.type),s=r.payload;a===ue&&(t=new WebSocket(s)),t&&(t.onopen=function(e){return c({type:de,payload:e})},t.onerror=function(e){return c({type:je,payload:e})},t.onclose=function(e){return c({type:me,payload:e})},t.onmessage=function(e){return c({type:pe,payload:JSON.parse(e.data)})}),n(r)}}}))),Gt=Object(wt.d)(qt,Mt);s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(o.a,{basename:"/react-burger",children:Object(x.jsx)(i.a,{store:Gt,children:Object(x.jsx)(Bt,{})})})}),document.getElementById("root"))},23:function(e,t,n){e.exports={item:"BurgerConstructorItem_item__32umc",itemData:"BurgerConstructorItem_itemData__16VIp",itemDataBunTop:"BurgerConstructorItem_itemDataBunTop___uLcl BurgerConstructorItem_itemData__16VIp",itemDataBunBottom:"BurgerConstructorItem_itemDataBunBottom__7n_Z7 BurgerConstructorItem_itemData__16VIp",image:"BurgerConstructorItem_image__19hjv",name:"BurgerConstructorItem_name__HB5-J",price:"BurgerConstructorItem_price__1rwex",priceValue:"BurgerConstructorItem_priceValue__3NQWF"}},25:function(e,t,n){e.exports={container:"IngredientDetails_container__18nOc",image:"IngredientDetails_image__-qURb",properties:"IngredientDetails_properties__3HSDN",property:"IngredientDetails_property__3HU4T"}},29:function(e,t,n){e.exports={content:"BurgerIngredients_content__2qL9Y",tabs:"BurgerIngredients_tabs__26tPs",categories:"BurgerIngredients_categories__2uKdp",category:"BurgerIngredients_category___JhhY"}},31:function(e,t,n){e.exports={section:"ResetPassword_section__1e86A",content:"ResetPassword_content__1u7-e",form:"ResetPassword_form__2i49A",button:"ResetPassword_button__Xtubz",link:"ResetPassword_link__3F6PD",hideInput:"ResetPassword_hideInput__31PdU"}},35:function(e,t,n){e.exports={item:"BurgerIngredient_item__134MQ",image:"BurgerIngredient_image__3p7ny",price:"BurgerIngredient_price__1ZkjN",priceValue:"BurgerIngredient_priceValue__1WrJp",name:"BurgerIngredient_name__3KiHc"}},36:function(e,t,n){e.exports={content:"BurgerConstructor_content__8PEcn",list:"BurgerConstructor_list__1oxc8",summary:"BurgerConstructor_summary__1eN9h",summaryPrice:"BurgerConstructor_summaryPrice__3KZ2K",summaryPriceValue:"BurgerConstructor_summaryPriceValue__3LASN",button:"BurgerConstructor_button__1xhU5"}},37:function(e,t,n){e.exports={section:"Login_section__3sSEB",content:"Login_content__oDROn",form:"Login_form__2dN9b",button:"Login_button__3nriR",link:"Login_link__27qGm"}},45:function(e,t,n){e.exports={container:"OrderDetails_container__21RFw",order:"OrderDetails_order__12jEm"}},46:function(e,t,n){e.exports={section:"Register_section__3WqDL",content:"Register_content__3i2sl",form:"Register_form__PbTsl",button:"Register_button__MooeA",link:"Register_link__tD8DX"}},47:function(e,t,n){e.exports={section:"ForgotPassword_section__3Ytoa",content:"ForgotPassword_content__BvGJr",form:"ForgotPassword_form__21b_Q",button:"ForgotPassword_button__2SKDq",link:"ForgotPassword_link__1uPrG"}},48:function(e,t,n){e.exports={card:"OrderCard_card__2Qi9T",numberInfo:"OrderCard_numberInfo__1ngDt",detailsInfo:"OrderCard_detailsInfo__4m1Ou",cost:"OrderCard_cost__3df-T"}},79:function(e,t,n){e.exports={modal:"Modal_modal__1tcsW",closeIcon:"Modal_closeIcon__2dmhT"}},80:function(e,t,n){e.exports={main:"App_main__3s1ee",content:"App_content__3520N"}}},[[200,1,2]]]);
//# sourceMappingURL=main.69664a55.chunk.js.map